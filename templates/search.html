{% extends 'base.html' %}
{% block content %}
<h2 class="text-2xl font-semibold mb-4">Search results for &ldquo;{{ query }}&rdquo;</h2>

{% if not query %}
  <div class="muted">Enter a search term in the header to find phones or designs.</div>
{% else %}
  <div class="grid lg:grid-cols-2 gap-6">
    <div>
      <h3 class="font-semibold">Phones</h3>
      <div class="mt-3 space-y-3">
        {% for p in phones %}
          <div class="card p-3 flex items-center gap-3">
            <div class="h-16 w-24 overflow-hidden rounded">
              {% if p.image %}
                <img src="{{ p.image if p.image.startswith('http') else '/static/uploads/' + p.image }}" alt="{{ p.name }}" class="h-full w-full object-cover" loading="lazy">
              {% endif %}
            </div>
            <div>
              <div class="font-semibold">{{ p.name }}</div>
              <div class="muted text-sm">₦{{ '{:,.0f}'.format(p.price) }}</div>
            </div>
          </div>
        {% else %}
          <div class="muted">No phones found.</div>
        {% endfor %}
      </div>
    </div>

    <div>
      <h3 class="font-semibold">Designs</h3>
      <div class="mt-3 space-y-3">
        {% for d in designs %}
          <div class="card p-3 flex items-center gap-3">
            <div class="h-16 w-24 overflow-hidden rounded">
              {% if d.image %}
                <img src="{{ d.image if d.image.startswith('http') else '/static/uploads/' + d.image }}" alt="{{ d.title }}" class="h-full w-full object-cover" loading="lazy">
              {% endif %}
            </div>
            <div>
              <div class="font-semibold">{{ d.title }}</div>
              <div class="muted text-sm">{% if d.is_free %}Free{% else %}₦{{ '{:,.0f}'.format(d.price) }}{% endif %}</div>
            </div>
          </div>
        {% else %}
          <div class="muted">No designs found.</div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endif %}
{% endblock %}
