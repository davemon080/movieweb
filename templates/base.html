<!doctype html>
<html lang="en" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ title if title else 'My Business' }}</title>
  <meta name="description" content="Premium store & portfolio — phones, designs, videos" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <script>
    tailwind = { config: {
      theme: { extend: {
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] },
          colors: { navy: { DEFAULT: '#071029' }, cyan: { DEFAULT: '#7dd3fc' } }
      } }, darkMode: 'class'
    } }
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: linear-gradient(180deg,#041026 0%, #071029 100%); font-family:Inter,system-ui; color: #E6F0F5; }
    .card { border-radius:14px; background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); box-shadow:0 10px 30px rgba(3,12,34,0.6); }
    .badge { background: linear-gradient(90deg,#0ea5ff88,#7dd3fc55); color:#001; padding:6px 10px; border-radius:999px; font-weight:600; }
    .muted{ color:#9fb7c9; }
    .text-accent{ color:#7dd3fc; }
    .focus-ring:focus { outline: 3px solid rgba(14,165,255,0.12); outline-offset:4px; }
  </style>
</head>
<body>
  <header class="sticky top-0 z-50 bg-navy-900/60 backdrop-blur border-b border-white/5">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between gap-4">
      <a href="/" class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-slate-800 to-navy-900 flex items-center justify-center text-white font-bold">MB</div>
        <div>
          <div class="font-semibold">My Business</div>
          <div class="text-xs muted">Phones • Designs • Video</div>
        </div>
      </a>

      <div class="flex-1 max-w-xl">
        <form action="/search" method="get" class="w-full">
          <div class="relative">
            <input name="q" placeholder="Search phones or designs..." value="{{ request.args.get('q','') }}" class="w-full rounded-full px-4 py-2 bg-white/3 border border-white/6 focus:ring-1 focus:ring-cyan-300" />
            <button type="submit" class="absolute right-1 top-1 px-3 py-1 rounded-full bg-navy-800 text-accent">Search</button>
          </div>
        </form>
      </div>

      <nav class="hidden md:flex items-center gap-6">
        <a class="muted hover:text-accent transition" href="/phones">Phones</a>
        <a class="muted hover:text-accent transition" href="/designs">Designs</a>
        <a class="muted hover:text-accent transition" href="/videos">Videos</a>
        <a class="muted hover:text-accent transition" href="/about">About</a>
        <a class="px-3 py-2 border border-white/6 rounded-lg text-sm hover:bg-navy-800 transition" href="/admin">Admin</a>
      </nav>

      <div class="md:hidden">
        <button id="mobileMenuBtn" class="p-2 border border-white/6 rounded-lg">Menu</button>
      </div>
    </div>
    <div id="mobileMenu" class="hidden md:hidden bg-navy-900/80 border-t border-white/5">
      <div class="px-4 py-4 flex flex-col gap-3">
        <a class="muted" href="/phones">Phones</a>
        <a class="muted" href="/designs">Designs</a>
        <a class="muted" href="/videos">Videos</a>
        <a class="muted" href="/about">About</a>
        <a class="muted" href="/admin">Admin</a>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-10">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="space-y-3 mb-6">
        {% for cat, msg in messages %}
          <div class="px-4 py-2 rounded {{ 'bg-green-900/40' if cat=='success' else 'bg-red-900/40' }}">{{ msg }}</div>
        {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  <footer class="mt-12 py-8 border-t border-white/5">
    <div class="max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-center justify-between gap-4">
      <div class="text-sm muted">© {{ year }} My Business — Built with care</div>
      <div class="flex gap-4">
        <a class="muted" href="#">Twitter</a>
        <a class="muted" href="#">GitHub</a>
        <a class="muted" href="#">Instagram</a>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('mobileMenuBtn')?.addEventListener('click', ()=> {
      const m = document.getElementById('mobileMenu');
      if(!m) return;
      m.classList.toggle('hidden');
    });
  </script>
</body>
</html>
